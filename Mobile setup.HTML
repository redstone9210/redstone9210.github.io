<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Haven Chat ‚Äî Install App</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0f0f14;
            --bg2: #16161d;
            --bg3: #1d1d26;
            --accent: #6366f1;
            --accent2: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --text: #e4e4e7;
            --text2: #a1a1aa;
            --text3: #71717a;
            --border: #27272a;
            --ios: #007aff;
            --android: #3ddc84;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
        .hero {
            background: linear-gradient(145deg, #1a1a2e 0%, #16213e 40%, #0f3460 100%);
            padding: 48px 24px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse 80% 60% at 50% 120%, rgba(99,102,241,.35), transparent);
        }
        .hero-logo {
            width: 80px; height: 80px;
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            border-radius: 22px;
            display: flex; align-items: center; justify-content: center;
            font-size: 40px;
            margin: 0 auto 20px;
            box-shadow: 0 8px 32px rgba(99,102,241,.5);
            position: relative; z-index: 1;
        }
        .hero h1 {
            font-size: clamp(26px, 7vw, 36px);
            font-weight: 800;
            position: relative; z-index: 1;
            background: linear-gradient(135deg, #fff 0%, #c4b5fd 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hero p {
            color: var(--text2);
            font-size: 15px;
            margin-top: 10px;
            position: relative; z-index: 1;
            max-width: 320px;
            margin-left: auto; margin-right: auto;
            line-height: 1.6;
        }

        /* ‚îÄ‚îÄ DEVICE TABS ‚îÄ‚îÄ */
        .tab-bar {
            display: flex;
            margin: 24px 20px 0;
            background: var(--bg2);
            border-radius: 14px;
            padding: 4px;
            border: 1px solid var(--border);
        }
        .tab {
            flex: 1;
            padding: 12px;
            border-radius: 10px;
            border: none;
            background: transparent;
            color: var(--text3);
            font-size: 14px;
            font-weight: 600;
            font-family: 'Outfit', sans-serif;
            cursor: pointer;
            transition: all .25s;
            display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .tab.active-ios {
            background: var(--ios);
            color: white;
            box-shadow: 0 4px 12px rgba(0,122,255,.4);
        }
        .tab.active-android {
            background: var(--android);
            color: #0a0a0a;
            box-shadow: 0 4px 12px rgba(61,220,132,.4);
        }
        .tab-icon { font-size: 18px; }

        /* ‚îÄ‚îÄ STEPS ‚îÄ‚îÄ */
        .steps-container {
            padding: 24px 20px;
        }

        .platform-steps { display: none; }
        .platform-steps.show { display: block; }

        .step-label {
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            color: var(--text3);
            margin-bottom: 20px;
        }

        .step {
            background: var(--bg2);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 14px;
            display: flex;
            gap: 16px;
            align-items: flex-start;
            transition: border-color .2s;
            position: relative;
        }
        .step.completed {
            border-color: var(--success);
            background: rgba(16,185,129,.06);
        }
        .step.active-step {
            border-color: var(--accent);
            background: rgba(99,102,241,.07);
        }

        .step-num {
            width: 36px; height: 36px;
            border-radius: 50%;
            background: var(--bg3);
            display: flex; align-items: center; justify-content: center;
            font-weight: 700;
            font-size: 15px;
            flex-shrink: 0;
            color: var(--text2);
            border: 2px solid var(--border);
            transition: all .3s;
        }
        .step.completed .step-num {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }
        .step.active-step .step-num {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }
        .step-num.done-icon::after { content: '‚úì'; font-size: 16px; }

        .step-body { flex: 1; }
        .step-body h3 {
            font-size: 15px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 6px;
        }
        .step-body p {
            font-size: 13px;
            color: var(--text2);
            line-height: 1.55;
        }

        /* Visual demo boxes */
        .demo-box {
            margin-top: 12px;
            background: var(--bg3);
            border-radius: 10px;
            padding: 12px 14px;
            font-size: 12px;
            color: var(--text3);
            border: 1px dashed var(--border);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .demo-box .demo-icon {
            font-size: 22px;
            flex-shrink: 0;
        }
        .demo-box .demo-text { line-height: 1.5; }
        .demo-box strong { color: var(--text2); font-weight: 600; }

        .highlight-blue { color: #60a5fa; font-weight: 600; }
        .highlight-green { color: var(--success); font-weight: 600; }

        /* ‚îÄ‚îÄ URL BAR PREVIEW ‚îÄ‚îÄ */
        .url-preview {
            background: #1c1c1e;
            border-radius: 10px;
            padding: 10px 14px;
            margin-top: 10px;
            display: flex; align-items: center; gap: 8px;
            border: 1px solid rgba(255,255,255,.08);
        }
        .url-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--success); }
        .url-text { font-size: 12px; color: var(--text2); font-family: monospace; }

        /* ‚îÄ‚îÄ PROGRESS BAR ‚îÄ‚îÄ */
        .progress-wrap {
            padding: 0 20px;
            margin-bottom: 4px;
        }
        .progress-label {
            display: flex; justify-content: space-between;
            font-size: 12px; color: var(--text3);
            margin-bottom: 8px;
        }
        .progress-bar {
            height: 4px;
            background: var(--bg3);
            border-radius: 99px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            border-radius: 99px;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            transition: width .5s cubic-bezier(.4,0,.2,1);
            width: 0%;
        }

        /* ‚îÄ‚îÄ CHECKBOX CONFIRM ‚îÄ‚îÄ */
        .confirm-section {
            margin: 8px 20px 20px;
            background: var(--bg2);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
        }
        .confirm-section h3 {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 14px;
            color: var(--text);
        }
        .check-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
        }
        .check-item:last-child { border-bottom: none; }
        .check-box {
            width: 24px; height: 24px;
            border-radius: 6px;
            border: 2px solid var(--border);
            display: flex; align-items: center; justify-content: center;
            flex-shrink: 0;
            background: var(--bg3);
            transition: all .2s;
            font-size: 14px;
        }
        .check-box.checked {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }
        .check-label { font-size: 14px; color: var(--text2); line-height: 1.4; }

        /* ‚îÄ‚îÄ DONE BUTTON ‚îÄ‚îÄ */
        .done-btn-wrap {
            padding: 0 20px 40px;
        }
        .done-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            border: none;
            border-radius: 14px;
            color: white;
            font-size: 17px;
            font-weight: 700;
            font-family: 'Outfit', sans-serif;
            cursor: pointer;
            transition: all .3s;
            box-shadow: 0 8px 24px rgba(99,102,241,.35);
            opacity: .45;
            pointer-events: none;
        }
        .done-btn.ready {
            opacity: 1;
            pointer-events: auto;
            animation: pulse-btn 2s ease-in-out infinite;
        }
        @keyframes pulse-btn {
            0%, 100% { box-shadow: 0 8px 24px rgba(99,102,241,.35); }
            50% { box-shadow: 0 8px 36px rgba(99,102,241,.6); }
        }
        .done-btn:active { transform: scale(.97); }

        .skip-link {
            text-align: center;
            margin-top: 14px;
            font-size: 13px;
            color: var(--text3);
        }
        .skip-link a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
        }

        /* ‚îÄ‚îÄ ALREADY INSTALLED BANNER ‚îÄ‚îÄ */
        .already-banner {
            display: none;
            margin: 16px 20px 0;
            background: rgba(16,185,129,.12);
            border: 1px solid rgba(16,185,129,.3);
            border-radius: 12px;
            padding: 14px 16px;
            font-size: 14px;
            color: var(--success);
            font-weight: 600;
            text-align: center;
        }

        /* ‚îÄ‚îÄ SUCCESS OVERLAY ‚îÄ‚îÄ */
        .success-overlay {
            display: none;
            position: fixed; inset: 0;
            background: rgba(10,10,20,.95);
            z-index: 999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 32px;
            text-align: center;
        }
        .success-overlay.show { display: flex; }
        .success-overlay .big-check {
            font-size: 80px;
            margin-bottom: 24px;
            animation: popIn .5s cubic-bezier(.34,1.56,.64,1);
        }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .success-overlay h2 {
            font-size: 28px;
            font-weight: 800;
            color: var(--success);
            margin-bottom: 12px;
        }
        .success-overlay p {
            color: var(--text2);
            font-size: 16px;
            margin-bottom: 32px;
            line-height: 1.6;
        }
        .success-overlay .go-btn {
            padding: 18px 48px;
            background: linear-gradient(135deg, var(--success), #059669);
            border: none;
            border-radius: 14px;
            color: white;
            font-size: 18px;
            font-weight: 700;
            font-family: 'Outfit', sans-serif;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(16,185,129,.4);
            animation: pulse-btn 2s ease-in-out infinite;
        }
        .countdown-text {
            color: var(--text3);
            font-size: 13px;
            margin-top: 16px;
        }
    </style>
</head>
<body>

    <!-- SUCCESS OVERLAY -->
    <div class="success-overlay" id="successOverlay">
        <div class="big-check">üéâ</div>
        <h2>You're all set!</h2>
        <p>Haven Chat is installed on your device.<br>Enjoy the full app experience!</p>
        <button class="go-btn" onclick="goToApp()">Open Haven Chat ‚Üí</button>
        <div class="countdown-text" id="countdown">Auto-opening in 5 seconds‚Ä¶</div>
    </div>

    <!-- HERO -->
    <div class="hero">
        <div class="hero-logo">üí¨</div>
        <h1>Install Haven Chat</h1>
        <p>Add the app to your home screen for the best mobile experience ‚Äî no App Store needed.</p>
    </div>

    <!-- ALREADY INSTALLED BANNER -->
    <div class="already-banner" id="alreadyBanner">
        ‚úÖ Looks like Haven is already installed on your device!
    </div>

    <!-- DEVICE TABS -->
    <div class="tab-bar">
        <button class="tab active-ios" id="tabIOS" onclick="switchPlatform('ios')">
            <span class="tab-icon">üçé</span> iPhone / iPad
        </button>
        <button class="tab" id="tabAndroid" onclick="switchPlatform('android')">
            <span class="tab-icon">ü§ñ</span> Android
        </button>
    </div>

    <!-- PROGRESS -->
    <div class="progress-wrap" style="margin-top:20px;">
        <div class="progress-label">
            <span>Your progress</span>
            <span id="progressText">0 / 3 steps confirmed</span>
        </div>
        <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    </div>

    <!-- iOS STEPS -->
    <div class="steps-container">
        <div class="platform-steps show" id="stepsIOS">
            <div class="step-label">iPhone & iPad (Safari required)</div>

            <div class="step active-step" id="step-ios-1">
                <div class="step-num">1</div>
                <div class="step-body">
                    <h3>Open this page in Safari</h3>
                    <p>The "Add to Home Screen" feature only works in Apple's Safari browser. If you're in Chrome or another app, tap the <strong>‚ãØ menu ‚Üí Open in Safari</strong>.</p>
                    <div class="demo-box">
                        <span class="demo-icon">üåê</span>
                        <div class="demo-text">
                            Your browser should say <strong>Safari</strong> ‚Äî look for the compass icon. Chrome has a colored circle icon instead.
                        </div>
                    </div>
                </div>
            </div>

            <div class="step" id="step-ios-2">
                <div class="step-num">2</div>
                <div class="step-body">
                    <h3>Tap the Share button</h3>
                    <p>At the <span class="highlight-blue">bottom</span> of your screen, tap the <span class="highlight-blue">Share icon</span> ‚Äî it looks like a box with an upward arrow <strong>‚¨Ü</strong>. If you can't see it, scroll up slightly so the toolbar appears.</p>
                    <div class="demo-box">
                        <span class="demo-icon">‚¨ÜÔ∏è</span>
                        <div class="demo-text">
                            <strong>Bottom toolbar ‚Üí Share icon (‚ñ°‚Üë)</strong><br>
                            On iPad it's in the top-right corner of Safari.
                        </div>
                    </div>
                </div>
            </div>

            <div class="step" id="step-ios-3">
                <div class="step-num">3</div>
                <div class="step-body">
                    <h3>Tap "Add to Home Screen"</h3>
                    <p>Scroll down the share sheet and tap <span class="highlight-blue">Add to Home Screen</span>. A dialog will appear ‚Äî tap <strong>Add</strong> in the top-right corner. Haven Chat will appear on your home screen like a real app!</p>
                    <div class="demo-box">
                        <span class="demo-icon">‚ûï</span>
                        <div class="demo-text">
                            <strong>Share sheet ‚Üí "Add to Home Screen" ‚Üí Add</strong><br>
                            The icon name will say <em>Haven Chat</em>.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ANDROID STEPS -->
        <div class="platform-steps" id="stepsAndroid">
            <div class="step-label">Android (Chrome recommended)</div>

            <div class="step active-step" id="step-android-1">
                <div class="step-num">1</div>
                <div class="step-body">
                    <h3>Open this page in Chrome</h3>
                    <p>Google Chrome gives the smoothest install experience on Android. If you're in Samsung Internet or Firefox, the steps may look slightly different but work the same way.</p>
                    <div class="demo-box">
                        <span class="demo-icon">üåê</span>
                        <div class="demo-text">
                            Look for the <strong>Chrome</strong> app (colorful circle). If you don't have it, any modern browser will work.
                        </div>
                    </div>
                </div>
            </div>

            <div class="step" id="step-android-2">
                <div class="step-num">2</div>
                <div class="step-body">
                    <h3>Tap the menu (‚ãÆ) and select "Add to Home screen"</h3>
                    <p>Tap the <span class="highlight-green">three-dot menu</span> in the top-right corner of Chrome. Look for <strong>Add to Home screen</strong> or <strong>Install app</strong> ‚Äî tap it.</p>
                    <div class="demo-box">
                        <span class="demo-icon">‚ãÆ</span>
                        <div class="demo-text">
                            <strong>Top-right ‚ãÆ ‚Üí Add to Home screen / Install app</strong><br>
                            Some Android versions show an install banner at the bottom automatically.
                        </div>
                    </div>
                </div>
            </div>

            <div class="step" id="step-android-3">
                <div class="step-num">3</div>
                <div class="step-body">
                    <h3>Confirm & open from home screen</h3>
                    <p>A dialog will appear. Tap <span class="highlight-green">Add</span> or <span class="highlight-green">Install</span>. The Haven Chat icon will appear on your home screen. Open it from there for the full-screen app experience!</p>
                    <div class="demo-box">
                        <span class="demo-icon">üì≤</span>
                        <div class="demo-text">
                            <strong>Tap "Add" ‚Üí Find Haven Chat on your home screen</strong><br>
                            It opens like a native app ‚Äî no browser chrome!
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CONFIRM CHECKLIST -->
    <div class="confirm-section">
        <h3>‚úÖ Confirm each step when done:</h3>
        <div class="check-item" onclick="toggleCheck(0)">
            <div class="check-box" id="chk0"></div>
            <span class="check-label">I opened this page in the right browser</span>
        </div>
        <div class="check-item" onclick="toggleCheck(1)">
            <div class="check-box" id="chk1"></div>
            <span class="check-label">I found and tapped the Share / Menu button</span>
        </div>
        <div class="check-item" onclick="toggleCheck(2)">
            <div class="check-box" id="chk2"></div>
            <span class="check-label">I added Haven Chat to my home screen</span>
        </div>
    </div>

    <!-- DONE BUTTON -->
    <div class="done-btn-wrap">
        <button class="done-btn" id="doneBtn" onclick="markDone()">
            üéâ Working Successfully ‚Äî Enter Haven Chat
        </button>
        <div class="skip-link">
            Already set up? <a href="index.html" onclick="skipSetup()">Skip and go straight to chat ‚Üí</a>
        </div>
    </div>

    <script>
        // ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        let platform = 'ios';
        let checks = [false, false, false];
        let countdownTimer = null;

        // ‚îÄ‚îÄ AUTO-DETECT PLATFORM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        (function detectPlatform() {
            const ua = navigator.userAgent.toLowerCase();
            if (/android/.test(ua)) {
                switchPlatform('android', true);
            } else {
                switchPlatform('ios', true);
            }
        })();

        // Check if already in standalone / installed
        if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone) {
            document.getElementById('alreadyBanner').style.display = 'block';
        }

        // ‚îÄ‚îÄ PLATFORM SWITCH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        function switchPlatform(p, silent) {
            platform = p;
            document.getElementById('stepsIOS').classList.toggle('show', p === 'ios');
            document.getElementById('stepsAndroid').classList.toggle('show', p === 'android');
            document.getElementById('tabIOS').className = 'tab' + (p === 'ios' ? ' active-ios' : '');
            document.getElementById('tabAndroid').className = 'tab' + (p === 'android' ? ' active-android' : '');
            // Reset checks when switching
            if (!silent) { checks = [false, false, false]; renderChecks(); }
        }

        // ‚îÄ‚îÄ CHECK ITEMS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        function toggleCheck(i) {
            checks[i] = !checks[i];
            renderChecks();
        }

        function renderChecks() {
            checks.forEach((val, i) => {
                const box = document.getElementById('chk' + i);
                box.classList.toggle('checked', val);
                box.textContent = val ? '‚úì' : '';
                // Update step highlight
                const prefix = platform === 'ios' ? 'step-ios-' : 'step-android-';
                const stepEl = document.getElementById(prefix + (i + 1));
                if (stepEl) {
                    stepEl.classList.toggle('completed', val);
                    stepEl.classList.toggle('active-step', !val && (i === 0 || checks[i - 1]));
                }
            });

            const done = checks.filter(Boolean).length;
            const pct = Math.round((done / 3) * 100);
            document.getElementById('progressFill').style.width = pct + '%';
            document.getElementById('progressText').textContent = done + ' / 3 steps confirmed';

            const btn = document.getElementById('doneBtn');
            btn.classList.toggle('ready', done === 3);
        }

        // ‚îÄ‚îÄ MARK DONE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        function markDone() {
            if (checks.filter(Boolean).length < 3) return;
            localStorage.setItem('mobileSetupDone', 'true');
            localStorage.setItem('mobileSetupDate', Date.now().toString());
            showSuccess();
        }

        function showSuccess() {
            document.getElementById('successOverlay').classList.add('show');
            let secs = 5;
            countdownTimer = setInterval(() => {
                secs--;
                document.getElementById('countdown').textContent = secs > 0
                    ? 'Auto-opening in ' + secs + ' second' + (secs !== 1 ? 's' : '') + '‚Ä¶'
                    : 'Opening now‚Ä¶';
                if (secs <= 0) { clearInterval(countdownTimer); goToApp(); }
            }, 1000);
        }

        function goToApp() {
            clearInterval(countdownTimer);
            window.location.href = 'index.html';
        }

        function skipSetup() {
            localStorage.setItem('mobileSetupDone', 'true');
        }

        // Initial render
        renderChecks();
    </script>
</body>
</html>